@page
@model ydai5.Pages.RemoveStudentModel
@{
    ViewData["Title"] = "Remove Student";
}
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Remove Student</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
    <div class="container mt-5">
        <h2>Remove Student</h2>
        <button onclick="location.href='@Url.Page("/Index")'" class="btn btn-secondary mb-3">Back</button>

        <form method="post">
            <div class="form-group">
                <label for="StudentID">Student ID</label>
                <input asp-for="StudentID" id="StudentID" class="form-control" />
                <span class="invalid-feedback"></span>
                @Html.ValidationMessage("StudentID")
            </div>

            <input type="submit" name="Submit" value="Remove Student" class="btn btn-danger" />
        </form>
        <div>@Model.Message</div>
    </div>

    <script>
        $(document).ready(function () {
            $("form").on("submit", function (event) {
                let isValid = true;

                // Validate Student ID (Required)
                let studentID = $("#StudentID").val().trim();
                if (!studentID) {
                    $("#StudentID").addClass("is-invalid");
                    $("#StudentID").next(".invalid-feedback").text("Student ID is required.");
                    isValid = false;
                } else if (studentID.length > 10) {
                    $("#StudentID").addClass("is-invalid");
                    $("#StudentID").next(".invalid-feedback").text("Student ID must not exceed 10 characters.");
                    isValid = false;
                } else {
                    $("#StudentID").removeClass("is-invalid").addClass("is-valid");
                    $("#StudentID").next(".invalid-feedback").text("");
                }

                // Prevent form submission if there are validation errors
                if (!isValid) {
                    event.preventDefault();
                }
            });
        });
    </script>
</body>

</html>
